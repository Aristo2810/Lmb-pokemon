<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fight</title>
    <link rel="stylesheet" href="css/fight.css">
    <script src="js/confetti.min.js"></script>
</head>
<body>
    <header>
        <a href="index.html">
            <img src="assets/logo.jpeg" alt="Icône">
            <h1 class="pokemontitle">LMB pokebattle</h1>
        </a>
    </header>
    <main>
        <div class="grid">
            <div class="confetti-container">
                <img src="" alt="Image 1" id="image1">
            </div>
            <div class="confetti-container">
                <img src="" alt="Image 2" id="image2">
            </div>
        </div>
        <h2 id="result"></h2>
    </main>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const image1Url = urlParams.get('image1');
        const image2Url = urlParams.get('image2');
        const image1 = document.getElementById('image1');
        const image2 = document.getElementById('image2');
        const result = document.getElementById('result');

        if (image1Url && image2Url) {
            image1.src = image1Url;
            image2.src = image2Url;
            const winner = Math.floor(Math.random() * 2) + 1;
            result.innerText = `Victoire carte ${winner} !`;
            const confettiContainer = document.querySelectorAll('.confetti-container')[winner - 1];
            confettiContainer.classList.add('winner');
            const confettiSettings = { target: confettiContainer };
            const confetti = new ConfettiGenerator(confettiSettings);
            confetti.render();
        } else {
            result.innerText = "Erreur : les images n'ont pas été spécifiées";
        }
    </script>
</body>
</html>
